```python
### sphinx/util/typing.py
<<<<<<< SEARCH
    elif qualname == 'Callable':
        args = ', '.join(stringify(a) for a in annotation.__args__[:-1])
        returns = stringify(annotation.__args__[-1])
        return '%s[[%s], %s]' % (qualname, args, returns)
    elif qualname == 'Literal':
        args = ', '.join(repr(a) for a in annotation.__args__)
        return '%s[%s]' % (qualname, args)
    elif str(annotation).startswith('typing.Annotated'):  # for py39+
        return stringify(annotation.__args__[0])
    elif all(is_system_TypeVar(a) for a in annotation.__args__):
        # Suppress arguments if all system defined TypeVars (ex. Dict[KT, VT])
        return qualname
    else:
        args = ', '.join(stringify(a) for a in annotation.__args__)
        return '%s[%s]' % (qualname, args)
=======
    elif qualname == 'Callable':
        args = ', '.join(stringify(a) for a in annotation.__args__[:-1])
        returns = stringify(annotation.__args__[-1])
        return '%s[[%s], %s]' % (qualname, args, returns)
    elif qualname == 'Literal':
        args = ', '.join(repr(a) for a in annotation.__args__)
        return '%s[%s]' % (qualname, args)
    elif str(annotation).startswith('typing.Annotated'):  # for py39+
        return stringify(annotation.__args__[0])
    elif all(is_system_TypeVar(a) for a in annotation.__args__):
        # Suppress arguments if all system defined TypeVars (ex. Dict[KT, VT])
        return qualname
    elif qualname == 'types.Union':
        if len(annotation.__args__) > 1 and None in annotation.__args__:
            args = ' | '.join(stringify(a) for a in annotation.__args__ if a)
            return 'Optional[%s]' % args
        else:
            return ' | '.join(stringify(a) for a in annotation.__args__)
    else:
        args = ', '.join(stringify(a) for a in annotation.__args__)
        return '%s[%s]' % (qualname, args)
>>>>>>> REPLACE
```