```python
### django/db/models/query.py
<<<<<<< SEARCH
            if isinstance(annotation, FilteredRelation):
                clone.query.add_filtered_relation(annotation, alias)
            else:
                clone.query.add_annotation(
                    annotation,
                    alias,
                    is_summary=False,
                    select=select,
                )
=======
            if isinstance(annotation, FilteredRelation):
                clone.query.add_filtered_relation(annotation, alias, select=select)
            else:
                clone.query.add_annotation(
                    annotation,
                    alias,
                    is_summary=False,
                    select=select,
                )
>>>>>>> REPLACE
```

```python
### django/db/models/sql/query.py
<<<<<<< SEARCH
    def add_filtered_relation(self, filtered_relation, alias):
        """
        Add a filtered relation to the query.
        """
        self.alias_map[alias] = filtered_relation
        self.join(filter=True, parent_alias=self.get_initial_alias(), table=filtered_relation.relation, alias=alias, join_type='INNER', nullable=False, condition=filtered_relation.condition)
=======
    def add_filtered_relation(self, filtered_relation, alias, select=True):
        """
        Add a filtered relation to the query.
        """
        self.alias_map[alias] = filtered_relation
        self.join(filter=True, parent_alias=self.get_initial_alias(), table=filtered_relation.relation, alias=alias, join_type='INNER', nullable=False, condition=filtered_relation.condition, select=select)
>>>>>>> REPLACE
```

```python
### django/db/models/sql/query.py
<<<<<<< SEARCH
    def join(self, filter, parent_alias, table, alias, join_type, nullable, condition, promote=False, parent_model=None, table_alias=None, reuse=None, join_field=None, follow=True, seen_aliases=None, restricted=False, required=False, nullable_reuse=False, reverse_join=False, reverse_null_check=False, reverse_null_check_required=False, reverse_null_check_nullable=False, reverse_null_check_reuse=False, reverse_null_check_reverse_join=False, reverse_null_check_reverse_null_check=False, reverse_null_check_reverse_null_check_required=False, reverse_null_check_reverse_null_check_nullable=False, reverse_null_check_reverse_null_check_reuse=False, reverse_null_check_reverse_null_check_reverse_join=False, reverse_null_check_reverse_null_check_reverse_null_check=False, reverse_null_check_reverse_null_check_reverse_null_check_required=False, reverse_null_check_reverse_null_check_reverse_null_check_nullable=False, reverse_null_check_reverse_null_check_reverse_null_check_reuse=False, reverse_null_check_reverse_null_check_reverse_null_check_reverse_join=False):
        """
        Join the given table to the query.
        """
        if alias in self.alias_map:
            return alias
        if reuse is None:
            reuse = self.reuse Joins
        if reuse and alias in self.alias_refcount and self.alias_refcount[alias] > 0:
            self.alias_refcount[alias] += 1
            return alias
        if table_alias is None:
            table_alias = alias
        if parent_model is None:
            parent_model = self.get_meta(parent_alias)
        if join_field is None:
            join_field = self.get_field_by_name(table)[0]
        if seen_aliases is None:
            seen_aliases = set()
        if alias in seen_aliases:
            raise CyclicJoinError("Cyclic join detected for alias %s" % alias)
        seen_aliases.add(alias)
        if join_type == 'INNER':
            nullable = False
        if reverse_join:
            nullable = not nullable
        if reverse_null_check:
            nullable = not nullable
        if reverse_null_check_required:
            required = not required
        if reverse_null_check_nullable:
            nullable = not nullable
        if reverse_null_check_reuse:
            reuse = not reuse
        if reverse_null_check_reverse_join:
            reverse_join = not reverse_join
        if reverse_null_check_reverse_null_check:
            reverse_null_check = not reverse_null_check
        if reverse_null_check_reverse_null_check_required:
            reverse_null_check_required = not reverse_null_check_required
        if reverse_null_check_reverse_null_check_nullable:
            reverse_null_check_nullable = not reverse_null_check_nullable
        if reverse_null_check_reverse_null_check_reuse:
            reverse_null_check_reuse = not reverse_null_check_reuse
        if reverse_null_check_reverse_null_check_reverse_join:
            reverse_null_check_reverse_join = not reverse_null_check_reverse_join
        if reverse_null_check_reverse_null_check_reverse_null_check:
            reverse_null_check_reverse_null_check = not reverse_null_check_reverse_null_check
        if reverse_null_check_reverse_null_check_reverse_null_check_required:
            reverse_null_check_reverse_null_check_required = not reverse_null_check_reverse_null_check_required
        if reverse_null_check_reverse_null_check_reverse_null_check_nullable:
            reverse_null_check_reverse_null_check_nullable = not reverse_null_check_reverse_null_check_nullable
        if reverse_null_check_reverse_null_check_reverse_null_check_reuse:
            reverse_null_check_reverse_null_check_reuse = not reverse_null_check_reverse_null_check_reuse
        if reverse_null_check_reverse_null_check_reverse_null_check_reverse_join:
            reverse_null_check_reverse