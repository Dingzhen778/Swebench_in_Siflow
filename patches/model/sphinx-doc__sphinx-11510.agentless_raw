```python
### doc/conf.py
<<<<<<< SEARCH
def subst_vars_replace(app: Sphinx, docname, source):
    result = source[0]
    result = result.replace("&REPLACE_ME;", "REPLACED")
    source[0] = result
=======
def subst_vars_replace(app: Sphinx, docname, source):
    result = source[0]
    result = result.replace("&REPLACE_ME;", "REPLACED")
    source[0] = result

    # Ensure included files are also processed
    if docname in app.env.included_files:
        for included_file in app.env.included_files[docname]:
            included_source = app.env.get_doctree(included_file).astext()
            included_result = included_source.replace("&REPLACE_ME;", "REPLACED")
            app.env.get_doctree(included_file).replace(included_source, included_result)
>>>>>>> REPLACE
```

This *SEARCH/REPLACE* edit ensures that the `subst_vars_replace` function processes not only the current document but also any included files. It checks if the current document has any included files and processes them accordingly. This should resolve the issue where the replacement does not make it to the final HTML for included files.