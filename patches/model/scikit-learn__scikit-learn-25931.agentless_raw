```python
### sklearn/ensemble/_iforest.py
<<<<<<< SEARCH
        if self.contamination == "auto":
            # 0.5 plays a special role as described in the original paper.
            # we take the opposite as we consider the opposite of their score.
            self.offset_ = -0.5
            return self

        # else, define offset_ wrt contamination parameter
        self.offset_ = np.percentile(self.score_samples(X), 100.0 * self.contamination)
=======
        if self.contamination == "auto":
            # 0.5 plays a special role as described in the original paper.
            # we take the opposite as we consider the opposite of their score.
            self.offset_ = -0.5
            return self

        # else, define offset_ wrt contamination parameter
        scores = self.score_samples(X)
        if hasattr(self, "feature_names_in_"):
            X = pd.DataFrame(X, columns=self.feature_names_in_)
        self.offset_ = np.percentile(scores, 100.0 * self.contamination)
>>>>>>> REPLACE
```