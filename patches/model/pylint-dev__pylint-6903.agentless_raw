```python
### pylint/lint/run.py
<<<<<<< SEARCH
    if cpu_share is not None:
        return min(cpu_share, cpu_count)
    return cpu_count
=======
    if cpu_share is not None:
        return max(min(cpu_share, cpu_count), 1)
    return max(cpu_count, 1)
>>>>>>> REPLACE
```