```python
### sphinx/ext/autodoc/__init__.py
<<<<<<< SEARCH
        if self.env.config.autodoc_typehints in ('none', 'description'):
            kwargs.setdefault('show_annotation', False)
=======
        if self.env.config.autodoc_typehints == 'none':
            kwargs.setdefault('show_annotation', False)
        elif self.env.config.autodoc_typehints == 'signature':
            kwargs.setdefault('show_annotation', True)
        elif self.env.config.autodoc_typehints == 'description':
            kwargs.setdefault('show_annotation', False)
            self.retann = None
>>>>>>> REPLACE
```

```python
### sphinx/ext/autodoc/__init__.py
<<<<<<< SEARCH
            args = stringify_signature(sig, **kwargs)
=======
            args = stringify_signature(sig, **kwargs)
            if self.env.config.autodoc_typehints == 'signature' and sig.return_annotation is not sig.empty:
                retann_str = typing.stringify(sig.return_annotation)
                if retann_str == 'None':
                    retann_str = ':py:obj:`None`'
                args += f' -> {retann_str}'
>>>>>>> REPLACE
```