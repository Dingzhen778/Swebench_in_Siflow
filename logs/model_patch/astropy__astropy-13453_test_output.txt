>>>>> Start Test Output
+ export PYTHONPATH=/testbed:
+ PYTHONPATH=/testbed:
+ echo PYTHONPATH=/testbed:
PYTHONPATH=/testbed:
+ pytest -rA astropy/io/ascii/tests/test_html.py
<frozen importlib._bootstrap>:228: RuntimeWarning: numpy.ndarray size changed, may indicate binary incompatibility. Expected 80 from C header, got 96 from PyObject
============================= test session starts ==============================
platform linux -- Python 3.9.25, pytest-7.4.0, pluggy-1.3.0

Running tests with Astropy version 5.2.dev267+g6a1cc8f96.d20251211.
Running tests in astropy/io/ascii/tests/test_html.py.

Date: 2025-12-11T15:22:27

Platform: Linux-5.15.0-94-generic-x86_64-with-glibc2.35

Executable: /opt/miniconda3/envs/testbed/bin/python

Full Python Version: 
3.9.25 (main, Nov  3 2025, 22:33:05) 
[GCC 11.2.0]

encodings: sys: utf-8, locale: UTF-8, filesystem: utf-8
byteorder: little
float info: dig: 15, mant_dig: 15

Package versions: 
Numpy: 1.25.2
Scipy: not available
Matplotlib: not available
h5py: not available
Pandas: not available
PyERFA: 2.0.0.3
Cython: not available
Scikit-image: not available
asdf: not available
pyarrow: not available

Using Astropy options: remote_data: none.

ARCH_ON_CI: undefined
IS_CRON: undefined

rootdir: /testbed
configfile: setup.cfg
plugins: xdist-3.3.1, filter-subpackage-0.1.2, astropy-header-0.2.2, astropy-0.10.0, openfiles-0.5.0, mock-3.11.1, arraydiff-0.5.0, doctestplus-1.0.0, cov-4.1.0, remotedata-0.4.0, hypothesis-6.46.7
collected 26 items

astropy/io/ascii/tests/test_html.py s.ssssss.ssss.s.sss.....Fs           [100%]

=================================== FAILURES ===================================
______________________ test_write_table_formatted_columns ______________________

    def test_write_table_formatted_columns():
        """
        Test to make sure that the HTML writer writes out using the
        supplied formatting.
        """
    
        col1 = [1, 2]
        col2 = [1.234567e-11, -9.876543e11]
        formats = {"C1": "04d", "C2": ".2e"}
        table = Table([col1, col2], names=formats.keys())
    
        expected = """\
    <html>
     <head>
      <meta charset="utf-8"/>
      <meta content="text/html;charset=UTF-8" http-equiv="Content-type"/>
     </head>
     <body>
      <table>
       <thead>
        <tr>
         <th>C1</th>
         <th>C2</th>
        </tr>
       </thead>
       <tr>
        <td>0001</td>
        <td>1.23e-11</td>
       </tr>
       <tr>
        <td>0002</td>
        <td>-9.88e+11</td>
       </tr>
      </table>
     </body>
    </html>
        """
        with StringIO() as sp:
            table.write(sp, format="html", formats=formats)
            out = sp.getvalue().strip()
>       assert out == expected.strip()
E       AssertionError: assert '<html>\n <he...ody>\n</html>' == '<html>\n <he...ody>\n</html>'
E         Skipping 220 identical leading characters in diff, use -v to show
E           >
E         -     <td>0001</td>
E         ?         ---
E         +     <td>1</td>
E         -     <td>1.23e-11</td>
E         +     <td>1.234567e-11</td>...
E         
E         ...Full output truncated (12 lines hidden), use '-vv' to show

/testbed/astropy/io/ascii/tests/test_html.py:760: AssertionError
==================================== PASSES ====================================
____________ test_multi_column_write_table_html_fill_values_masked _____________
----------------------------- Captured stdout call -----------------------------
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-type"/>
 </head>
 <body>
  <table>
   <thead>
    <tr>
     <th>a</th>
     <th>b</th>
    </tr>
   </thead>
   <tr>
    <td>MASKED</td>
    <td>MASKED</td>
   </tr>
   <tr>
    <td>MASKED</td>
    <td>MASKED</td>
   </tr>
   <tr>
    <td>3</td>
    <td>--</td>
   </tr>
   <tr>
    <td>4</td>
    <td>b</td>
   </tr>
  </table>
 </body>
</html>


=========================== short test summary info ============================
PASSED astropy/io/ascii/tests/test_html.py::test_listwriter
PASSED astropy/io/ascii/tests/test_html.py::test_htmlinputter_no_bs4
PASSED astropy/io/ascii/tests/test_html.py::test_multicolumn_write
PASSED astropy/io/ascii/tests/test_html.py::test_write_no_multicols
PASSED astropy/io/ascii/tests/test_html.py::test_write_table_html_fill_values
PASSED astropy/io/ascii/tests/test_html.py::test_write_table_html_fill_values_optional_columns
PASSED astropy/io/ascii/tests/test_html.py::test_write_table_html_fill_values_masked
PASSED astropy/io/ascii/tests/test_html.py::test_multicolumn_table_html_fill_values
PASSED astropy/io/ascii/tests/test_html.py::test_multi_column_write_table_html_fill_values_masked
SKIPPED [1] astropy/io/ascii/tests/test_html.py:29: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:60: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:86: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:114: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:136: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:154: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:174: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:207: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:250: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:277: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:317: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:429: condition: not HAS_BLEACH
SKIPPED [1] astropy/io/ascii/tests/test_html.py:537: condition: not HAS_BS4
SKIPPED [1] astropy/io/ascii/tests/test_html.py:556: condition: not HAS_BLEACH
SKIPPED [1] astropy/io/ascii/tests/test_html.py:589: condition: not HAS_BLEACH
SKIPPED [1] astropy/io/ascii/tests/test_html.py:763: condition: not HAS_BS4
FAILED astropy/io/ascii/tests/test_html.py::test_write_table_formatted_columns
=================== 1 failed, 9 passed, 16 skipped in 0.09s ====================
>>>>> End Test Output
SWEBENCH_TEST_EXIT_CODE=1
