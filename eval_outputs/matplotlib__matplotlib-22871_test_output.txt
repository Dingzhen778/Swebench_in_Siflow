>>>>> Start Test Output
+ export PYTHONPATH=/testbed:
+ PYTHONPATH=/testbed:
+ echo PYTHONPATH=/testbed:
PYTHONPATH=/testbed:
+ pytest -rA lib/matplotlib/tests/test_dates.py
============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0
rootdir: /testbed
configfile: pytest.ini
plugins: rerunfailures-16.1, timeout-2.4.0, xdist-3.8.0, cov-7.0.0
collected 89 items

lib/matplotlib/tests/test_dates.py ..................................... [ 41%]
..............F.....................................                     [100%]

=================================== FAILURES ===================================
_____________________________ test_offset_changes ______________________________

    def test_offset_changes():
        fig, ax = plt.subplots()
    
        d1 = datetime.datetime(1997, 1, 1)
        d2 = d1 + datetime.timedelta(weeks=520)
    
        locator = mdates.AutoDateLocator()
        formatter = mdates.ConciseDateFormatter(locator)
        ax.xaxis.set_major_locator(locator)
        ax.xaxis.set_major_formatter(formatter)
    
        ax.plot([d1, d2], [0, 0])
        fig.draw_without_rendering()
        assert formatter.get_offset() == ''
        ax.set_xlim(d1, d1 + datetime.timedelta(weeks=3))
        fig.draw_without_rendering()
        assert formatter.get_offset() == '1997-Jan'
        ax.set_xlim(d1 + datetime.timedelta(weeks=7),
                    d1 + datetime.timedelta(weeks=30))
        fig.draw_without_rendering()
>       assert formatter.get_offset() == '1997'
E       AssertionError: assert '' == '1997'
E         
E         - 1997

lib/matplotlib/tests/test_dates.py:636: AssertionError
==================================== PASSES ====================================
___________________________ test_too_many_date_ticks ___________________________
------------------------------ Captured log call -------------------------------
WARNING  matplotlib.ticker:ticker.py:1646 Locator attempting to generate 1461 ticks ([10246.0, ..., 11706.0]), which exceeds Locator.MAXTICKS (1000).
=========================== short test summary info ============================
PASSED lib/matplotlib/tests/test_dates.py::test_date_numpyx
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[s]-t00]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[s]-t01]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[s]-t02]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[us]-t00]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[us]-t01]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[us]-t02]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ms]-t00]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ms]-t01]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ms]-t02]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ns]-t00]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ns]-t01]
PASSED lib/matplotlib/tests/test_dates.py::test_date_date2num_numpy[datetime64[ns]-t02]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT[datetime64[s]]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT[datetime64[us]]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT[datetime64[ms]]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT[datetime64[ns]]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT_scalar[s]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT_scalar[ms]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT_scalar[us]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_NaT_scalar[ns]
PASSED lib/matplotlib/tests/test_dates.py::test_date_empty
PASSED lib/matplotlib/tests/test_dates.py::test_date_not_empty
PASSED lib/matplotlib/tests/test_dates.py::test_axhline
PASSED lib/matplotlib/tests/test_dates.py::test_date_axhspan[png]
PASSED lib/matplotlib/tests/test_dates.py::test_date_axvspan[png]
PASSED lib/matplotlib/tests/test_dates.py::test_date_axhline[png]
PASSED lib/matplotlib/tests/test_dates.py::test_date_axvline[png]
PASSED lib/matplotlib/tests/test_dates.py::test_too_many_date_ticks
PASSED lib/matplotlib/tests/test_dates.py::test_RRuleLocator[png]
PASSED lib/matplotlib/tests/test_dates.py::test_RRuleLocator_dayrange
PASSED lib/matplotlib/tests/test_dates.py::test_RRuleLocator_close_minmax
PASSED lib/matplotlib/tests/test_dates.py::test_DateFormatter[png]
PASSED lib/matplotlib/tests/test_dates.py::test_locator_set_formatter
PASSED lib/matplotlib/tests/test_dates.py::test_date_formatter_callable
PASSED lib/matplotlib/tests/test_dates.py::test_date_formatter_usetex[delta0-expected0]
PASSED lib/matplotlib/tests/test_dates.py::test_date_formatter_usetex[delta1-expected1]
PASSED lib/matplotlib/tests/test_dates.py::test_date_formatter_usetex[delta2-expected2]
PASSED lib/matplotlib/tests/test_dates.py::test_date_formatter_usetex[delta3-expected3]
PASSED lib/matplotlib/tests/test_dates.py::test_drange
PASSED lib/matplotlib/tests/test_dates.py::test_auto_date_locator
PASSED lib/matplotlib/tests/test_dates.py::test_auto_date_locator_intmult
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_subsecond
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta0-1997-Jan-01 00:00]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta1-1997-Jan-01 00:01]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta2-1997-Jan-01]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta3-1997-Jan-02]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta4-1997-Jan]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta5-]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_show_offset[t_delta6-]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_usetex[t_delta0-expected0]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_usetex[t_delta1-expected1]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_usetex[t_delta2-expected2]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_usetex[t_delta3-expected3]
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_formats
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_zformats
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_tz
PASSED lib/matplotlib/tests/test_dates.py::test_auto_date_locator_intmult_tz
PASSED lib/matplotlib/tests/test_dates.py::test_date_inverted_limit[png]
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_dst
PASSED lib/matplotlib/tests/test_dates.py::test_date2num_dst_pandas
PASSED lib/matplotlib/tests/test_dates.py::test_rrulewrapper
PASSED lib/matplotlib/tests/test_dates.py::test_rrulewrapper_pytz
PASSED lib/matplotlib/tests/test_dates.py::test_yearlocator_pytz
PASSED lib/matplotlib/tests/test_dates.py::test_YearLocator
PASSED lib/matplotlib/tests/test_dates.py::test_DayLocator
PASSED lib/matplotlib/tests/test_dates.py::test_tz_utc
PASSED lib/matplotlib/tests/test_dates.py::test_num2timedelta[1-tdelta0]
PASSED lib/matplotlib/tests/test_dates.py::test_num2timedelta[x1-tdelta1]
PASSED lib/matplotlib/tests/test_dates.py::test_datetime64_in_list
PASSED lib/matplotlib/tests/test_dates.py::test_change_epoch
PASSED lib/matplotlib/tests/test_dates.py::test_warn_notintervals
PASSED lib/matplotlib/tests/test_dates.py::test_change_converter
PASSED lib/matplotlib/tests/test_dates.py::test_change_interval_multiples
PASSED lib/matplotlib/tests/test_dates.py::test_epoch2num
PASSED lib/matplotlib/tests/test_dates.py::test_julian2num
PASSED lib/matplotlib/tests/test_dates.py::test_DateLocator
PASSED lib/matplotlib/tests/test_dates.py::test_datestr2num
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_exceptions
PASSED lib/matplotlib/tests/test_dates.py::test_concise_formatter_call
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[0.02-MinuteLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[1-HourLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[19-DayLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[40-WeekdayLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[200-MonthLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_date_ticker_factory[2000-YearLocator]
PASSED lib/matplotlib/tests/test_dates.py::test_usetex_newline
FAILED lib/matplotlib/tests/test_dates.py::test_offset_changes - AssertionErr...
========================= 1 failed, 88 passed in 4.29s =========================
>>>>> End Test Output
SWEBENCH_TEST_EXIT_CODE=1
